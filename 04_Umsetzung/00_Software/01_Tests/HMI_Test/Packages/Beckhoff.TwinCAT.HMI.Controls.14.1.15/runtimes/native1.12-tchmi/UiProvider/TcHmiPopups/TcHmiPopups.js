"use strict";var TcHmi;!function(TcHmi){!function(Controls){!function(UiProvider){!function(Popup){class TcHmiPopups extends TcHmi.UiProvider.PopupProvider{constructor(){super(TcHmiPopups.providerName)}createMessageBox(header,content,buttons,parentControl){return new MessageBox(header,content,buttons,parentControl)}createHtmlElementBox(header,content,buttons,parentControl){return new HtmlElementBox(header,content,buttons,parentControl)}createInputPrompt(header,label,validation,parentControl){return new InputPrompt(header,label,validation,parentControl)}createInteractiveWritePrompt(symbol,options,parentControl){return new InteractiveWritePrompt(symbol,options,parentControl)}}Object.defineProperty(TcHmiPopups,"providerName",{enumerable:!0,configurable:!0,writable:!0,value:"Beckhoff.TcHmiPopups"}),Popup.TcHmiPopups=TcHmiPopups;class MessageBox extends TcHmi.UiProvider.PopupProvider.MessageBox{constructor(header,content,buttons,parentControl){super(),Object.defineProperty(this,"onShow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onHide",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onBoundsChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__popup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__closeButtonAction",{enumerable:!0,configurable:!0,writable:!0,value:null});const buttonDictionary={},buttonTexts={};for(const[name,button]of Object.entries(buttons))buttonDictionary[name]={value:button.value,attributes:{"data-tchmi-width":button.width,"data-tchmi-height":button.height,"data-tchmi-width-mode":button.widthMode??null,"data-tchmi-height-mode":button.heightMode??null,"data-tchmi-min-width":button.minWidth??null,"data-tchmi-max-width":button.maxWidth??null,"data-tchmi-min-height":button.minHeight??null,"data-tchmi-max-height":button.maxHeight??null,"data-tchmi-text-padding":button.textPadding??null,"data-tchmi-trigger":button.actions?[{event:"%ctx%owner::Id%/ctx%.onPressed",actions:button.actions}]:null},keepPopupOpen:button.keepPopupOpen},buttonTexts[name]={text:button.text,tooltip:button.tooltip};this.__popup=new Controls.Helpers.TextAndButtonsPrompt(buttonDictionary,parentControl),this.__popup.setTexts({headerText:header,contentText:content,buttons:buttonTexts}),this.onShow=this.__popup.onShow,this.onHide=this.__popup.onHide,this.onBoundsChange=this.__popup.onBoundsChange,this.onButtonPressed=this.__popup.onButtonPressed}destroy(){this.__popup&&this.__popup.destroy()}prompt(){return this.__popup.prompt()}show(){this.__popup.show()}hide(){this.__popup.hide()}abort(action){this.__popup.abort(action)}setTexts(texts){this.__popup.setTexts(texts)}setBackgroundAction(action){this.__popup.setBackgroundAction(action)}setBackgroundMode(mode){this.__popup.setBackgroundMode(mode)}setPositioningMode(mode){this.__popup.setPositioningMode(mode)}setBounds(bounds){this.__popup.setBounds(bounds)}setMovable(movable){this.__popup.setMovable(movable)}isShowing(){return this.__popup.isShowing()}setStorageSettings(settings){this.__popup.setStorageSettings(settings)}resetBounds(){this.__popup.resetBounds()}setCloseButton(show){show?this.__popup.setCloseButton({...this.__closeButtonAction,show:!0}):this.__popup.setCloseButton({show:!1})}setCloseButtonAction(action){this.__closeButtonAction=action,this.__popup.getCloseButton().show&&this.__popup.setCloseButton({...this.__closeButtonAction,show:!0})}setJustAbove(reference,conflictResolution){reference?this.__popup.setJustAbove(reference,conflictResolution):this.__popup.setJustAbove(reference)}hasActiveUserInteraction(){return this.__popup.hasActiveUserInteraction()}}Popup.MessageBox=MessageBox;class HtmlElementBox extends TcHmi.UiProvider.PopupProvider.HtmlElementBox{constructor(header,element,buttons,parentControl){super(),Object.defineProperty(this,"onShow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onHide",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onBoundsChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__popup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__closeButtonAction",{enumerable:!0,configurable:!0,writable:!0,value:null});const buttonDictionary={},buttonTexts={};for(const[name,button]of Object.entries(buttons))buttonDictionary[name]={value:button.value,attributes:{"data-tchmi-width":button.width,"data-tchmi-height":button.height,"data-tchmi-width-mode":button.widthMode??null,"data-tchmi-height-mode":button.heightMode??null,"data-tchmi-min-width":button.minWidth??null,"data-tchmi-max-width":button.maxWidth??null,"data-tchmi-min-height":button.minHeight??null,"data-tchmi-max-height":button.maxHeight??null,"data-tchmi-text-padding":button.textPadding??null,"data-tchmi-trigger":button.actions?[{event:"%ctx%owner::Id%/ctx%.onPressed",actions:button.actions}]:null},keepPopupOpen:button.keepPopupOpen},buttonTexts[name]={text:button.text,tooltip:button.tooltip};this.__popup=new Controls.Helpers.HtmlAndButtonsPrompt(buttonDictionary,parentControl),this.__popup.setTexts({headerText:header,buttons:buttonTexts}),this.__popup.setContentElement(element),this.onShow=this.__popup.onShow,this.onHide=this.__popup.onHide,this.onBoundsChange=this.__popup.onBoundsChange,this.onButtonPressed=this.__popup.onButtonPressed}destroy(){this.__popup&&this.__popup.destroy()}prompt(){return this.__popup.prompt()}show(){this.__popup.show()}hide(){this.__popup.hide()}abort(action){this.__popup.abort(action)}setTexts(texts){this.__popup.setTexts(texts)}setBackgroundAction(action){this.__popup.setBackgroundAction(action)}setBackgroundMode(mode){this.__popup.setBackgroundMode(mode)}setPositioningMode(mode){this.__popup.setPositioningMode(mode)}setBounds(bounds){this.__popup.setBounds(bounds)}setMovable(movable){this.__popup.setMovable(movable)}isShowing(){return this.__popup.isShowing()}setStorageSettings(settings){this.__popup.setStorageSettings(settings)}resetBounds(){this.__popup.resetBounds()}setCloseButton(show){show?this.__popup.setCloseButton({...this.__closeButtonAction,show:!0}):this.__popup.setCloseButton({show:!1})}setCloseButtonAction(action){this.__closeButtonAction=action,this.__popup.getCloseButton().show&&this.__popup.setCloseButton({...this.__closeButtonAction,show:!0})}setJustAbove(reference,conflictResolution){reference?this.__popup.setJustAbove(reference,conflictResolution):this.__popup.setJustAbove(reference)}hasActiveUserInteraction(){return this.__popup.hasActiveUserInteraction()}setContentElement(element){this.__popup.setContentElement(element)}}Popup.HtmlElementBox=HtmlElementBox;class InputPrompt extends TcHmi.UiProvider.PopupProvider.InputPrompt{constructor(header,label,validation,parentControl){super(),Object.defineProperty(this,"onShow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onHide",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onBoundsChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__popup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__validation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__closeButtonAction",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.__popup=new Controls.Helpers.InputPrompt(parentControl),this.__popup.setTexts({headerText:header,labelText:label,buttonTextOk:"%l%Framework::Popup_Button_Text_OK%/l%",buttonTooltipOk:"%l%Framework::Popup_Button_Tooltip_OK%/l%",buttonTextCancel:"%l%Framework::Popup_Button_Text_Cancel%/l%",buttonTooltipCancel:"%l%Framework::Popup_Button_Tooltip_Cancel%/l%"}),validation&&this.__popup.setValidationPatterns(validation),this.onShow=this.__popup.onShow,this.onHide=this.__popup.onHide,this.onBoundsChange=this.__popup.onBoundsChange}destroy(){this.__popup&&this.__popup.destroy(),this.__validation=[]}prompt(forbiddenValues=null,defaultValue=""){return this.__popup.prompt(forbiddenValues,defaultValue)}show(){this.__popup.show()}hide(){this.__popup.hide()}abort(action){this.__popup.abort(action)}setTexts(texts){this.__popup.setTexts(texts)}setBackgroundAction(action){this.__popup.setBackgroundAction(action)}setBackgroundMode(mode){this.__popup.setBackgroundMode(mode)}setPositioningMode(mode){this.__popup.setPositioningMode(mode)}setBounds(bounds){this.__popup.setBounds(bounds)}setMovable(movable){this.__popup.setMovable(movable)}isShowing(){return this.__popup.isShowing()}setStorageSettings(settings){this.__popup.setStorageSettings(settings)}resetBounds(){this.__popup.resetBounds()}setCloseButton(show){show?this.__popup.setCloseButton({...this.__closeButtonAction,show:!0}):this.__popup.setCloseButton({show:!1})}setCloseButtonAction(action){this.__closeButtonAction=action,this.__popup.getCloseButton().show&&this.__popup.setCloseButton({...this.__closeButtonAction,show:!0})}setJustAbove(reference,conflictResolution){reference?this.__popup.setJustAbove(reference,conflictResolution):this.__popup.setJustAbove(reference)}hasActiveUserInteraction(){return this.__popup.hasActiveUserInteraction()}}Popup.InputPrompt=InputPrompt;class InteractiveWritePrompt extends TcHmi.UiProvider.PopupProvider.InteractiveWritePrompt{constructor(symbol,options,parentControl){super(),Object.defineProperty(this,"onShow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onHide",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onBoundsChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__popup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__closeButtonAction",{enumerable:!0,configurable:!0,writable:!0,value:null});let texts={buttonTextOk:"%l%Framework::Popup_Button_Text_OK%/l%",buttonTooltipOk:"%l%Framework::Popup_Button_Tooltip_OK%/l%",buttonTextCancel:"%l%Framework::Popup_Button_Text_Cancel%/l%",buttonTooltipCancel:"%l%Framework::Popup_Button_Tooltip_Cancel%/l%"};symbol.metaData.auditTrail&&symbol.metaData.auditTrail.enabled?texts.headerText="%l%Package::Beckhoff.TwinCAT.HMI.Controls::Popup_InteractiveWritePrompt_Header_Audit_Trail%/l%":symbol.metaData.reauthenticationRequired&&(texts.headerText="%l%Package::Beckhoff.TwinCAT.HMI.Controls::Popup_InteractiveWritePrompt_Header_Reauthentication%/l%"),this.__popup=new Controls.Helpers.InteractiveWritePrompt(symbol,options,parentControl),this.__popup.setTexts(texts),this.onShow=this.__popup.onShow,this.onHide=this.__popup.onHide,this.onBoundsChange=this.__popup.onBoundsChange}destroy(){this.__popup&&this.__popup.destroy()}prompt(){return this.__popup.prompt()}show(){this.__popup.show()}hide(){this.__popup.hide()}abort(action){this.__popup.abort(action)}setTexts(texts){this.__popup.setTexts(texts)}setBackgroundAction(action){this.__popup.setBackgroundAction(action)}setBackgroundMode(mode){this.__popup.setBackgroundMode(mode)}setPositioningMode(mode){this.__popup.setPositioningMode(mode)}setBounds(bounds){this.__popup.setBounds(bounds)}setMovable(movable){this.__popup.setMovable(movable)}isShowing(){return this.__popup.isShowing()}setStorageSettings(settings){this.__popup.setStorageSettings(settings)}resetBounds(){this.__popup.resetBounds()}setCloseButton(show){show?this.__popup.setCloseButton({...this.__closeButtonAction,show:!0}):this.__popup.setCloseButton({show:!1})}setCloseButtonAction(action){this.__closeButtonAction=action,this.__popup.getCloseButton().show&&this.__popup.setCloseButton({...this.__closeButtonAction,show:!0})}}Popup.InteractiveWritePrompt=InteractiveWritePrompt}(UiProvider.Popup||(UiProvider.Popup={}))}(Controls.UiProvider||(Controls.UiProvider={}))}(TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.UiProvider.register(new TcHmi.Controls.UiProvider.Popup.TcHmiPopups);